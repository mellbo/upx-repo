function WheelPicker(t,e){this.container=document.getElementById(t),this.values=e,this.currentY=0,this.velocity=0,this.animating=!1,this.itemHeight=40,this.minY=-(e.length-1)*this.itemHeight,this.maxY=0,this.render(),this.bindEvents()}function HorizontalWheelPicker(t){this.container=document.getElementById(t.containerId),this.min=t.min,this.max=t.max,this.step=t.step,this.values=[];for(var e=this.min;e<=this.max+1e-4;e+=this.step)this.values.push(parseFloat(e.toFixed(1)));this.currentX=0,this.velocity=0,this.isDragging=!1,this.lastX=0,this.frame=null,this.createUI(),this.setToValue(t.initialValue),this.bindEvents(),this.animate()}WheelPicker.prototype.render=function(){this.container.innerHTML='<div class="wheel-items"></div>',this.itemsEl=this.container.querySelector(".wheel-items");var t=this;this.values.forEach(function(e,i){var n=document.createElement("div");n.className="wheel-item";var s=e.toString();s.length<2&&(s=("0"+s).slice(-2)),n.textContent=s,t.itemsEl.appendChild(n)}),this.updateSelection(),this.itemsEl.style.transform="translateY("+this.currentY+"px)"},WheelPicker.prototype.bindEvents=function(){var t=!1,e=0,i=this;function n(i){t=!0,e=i.touches?i.touches[0].clientY:i.clientY,i.preventDefault()}function s(n){if(t){var s=n.touches?n.touches[0].clientY:n.clientY,r=s-e;i.currentY+=r,i.currentY>i.maxY&&(i.currentY=i.maxY+(i.currentY-i.maxY)/3),i.currentY<i.minY&&(i.currentY=i.minY+(i.currentY-i.minY)/3),i.itemsEl.style.transform="translateY("+i.currentY+"px)",i.velocity=r,e=s,i.updateSelection()}}function r(){t=!1,i.startInertia()}this.container.addEventListener("mousedown",n),this.container.addEventListener("mousemove",s),this.container.addEventListener("mouseup",r),this.container.addEventListener("mouseleave",r),this.container.addEventListener("touchstart",n),this.container.addEventListener("touchmove",s),this.container.addEventListener("touchend",r)},WheelPicker.prototype.startInertia=function(){if(!this.animating){this.animating=!0;var t=this;requestAnimationFrame(function e(){if(Math.abs(t.velocity)<.1)return t.snapToItem(),void(t.animating=!1);t.currentY+=t.velocity,t.currentY>t.maxY&&(t.currentY=t.maxY,t.velocity=0),t.currentY<t.minY&&(t.currentY=t.minY,t.velocity=0),t.itemsEl.style.transform="translateY("+t.currentY+"px)",t.velocity*=.95,t.updateSelection(),requestAnimationFrame(e)})}},WheelPicker.prototype.snapToItem=function(){var t=Math.round(-this.currentY/this.itemHeight);this.currentY=-t*this.itemHeight,this.itemsEl.style.transform="translateY("+this.currentY+"px)",this.updateSelection()},WheelPicker.prototype.updateSelection=function(){for(var t=Math.round(-this.currentY/this.itemHeight),e=this.itemsEl.children,i=0;i<e.length;i++){var n=e[i];i===t?n.classList.contains("selected")||n.classList.add("selected"):n.classList.contains("selected")&&n.classList.remove("selected")}},WheelPicker.prototype.getSelected=function(){var t=Math.round(-this.currentY/this.itemHeight);return this.values[t]},WheelPicker.prototype.setSelected=function(t){var e=this.values.indexOf(t);e>=0&&(this.currentY=-e*this.itemHeight,this.itemsEl.style.transform="translateY("+this.currentY+"px)",this.updateSelection())},HorizontalWheelPicker.prototype.createUI=function(){this.wheel=document.createElement("div"),this.wheel.className="Hwheel";for(var t=0;t<this.values.length;t++){var e=this.values[t],i=document.createElement("div");i.className="Hwheel-item",i.textContent=e.toFixed(1),this.wheel.appendChild(i)}this.container.appendChild(this.wheel);var n=document.createElement("div");n.className="center-marker",this.container.appendChild(n)},HorizontalWheelPicker.prototype.bindEvents=function(){var t=this;function e(e){if(t.isDragging){var i=e.touches?e.touches[0].clientX:e.clientX,n=i-t.lastX;t.currentX+=n,t.velocity=1*n,t.lastX=i}}function i(e){t.isDragging=!0,t.velocity=0,t.lastX=e.touches?e.touches[0].clientX:e.clientX,t.frame&&cancelAnimationFrame(t.frame)}function n(){t.isDragging=!1,t.snapToNearest(),t.animate()}this.container.addEventListener("mousedown",i),this.container.addEventListener("touchstart",i),window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseup",n),window.addEventListener("touchend",n)},HorizontalWheelPicker.prototype.setToValue=function(t){for(var e=parseFloat(t.toFixed(1)),i=-1,n=0;n<this.values.length;n++)if(this.values[n]===e){i=n;break}i>=0&&(this.currentX=80*-i+this.container.offsetWidth/2-40,this.updateActive(),this.wheel.style.transform="translateX("+this.currentX+"px)")},HorizontalWheelPicker.prototype.updateActive=function(){for(var t=this.container.offsetWidth/2,e=this.wheel.children,i=0,n=1/0,s=0;s<e.length;s++){var r=this.currentX+80*s+40,a=Math.abs(t-r);a<n&&(n=a,i=s),e[s].classList.remove("active")}e[i].classList.add("active"),this.selectedValue=this.values[i]},HorizontalWheelPicker.prototype.snapToNearest=function(){var t=this.container.offsetWidth/2,e=Math.round((t-this.currentX-40)/80);e<0&&(e=0),e>=this.values.length&&(e=this.values.length-1),this.currentX=80*-e+t-40,this.updateActive()},HorizontalWheelPicker.prototype.getSelectedValue=function(){return this.selectedValue},HorizontalWheelPicker.prototype.animate=function(){var t=this;this.isDragging||(this.currentX+=this.velocity,this.velocity*=.98,Math.abs(this.velocity)<.05&&(this.velocity=0,this.snapToNearest())),this.wheel.style.transform="translateX("+this.currentX+"px)",this.updateActive(),this.frame=requestAnimationFrame(function(){t.animate()})};