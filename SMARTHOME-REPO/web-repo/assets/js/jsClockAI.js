class WheelPicker{constructor(t,e){this.container=document.getElementById(t),this.values=e,this.currentY=0,this.velocity=0,this.animating=!1,this.itemHeight=40,this.minY=-(e.length-1)*this.itemHeight,this.maxY=0,this.render(),this.bindEvents()}render(){this.container.innerHTML='<div class="wheel-items"></div>',this.itemsEl=this.container.querySelector(".wheel-items"),this.values.forEach(function(t,e){const n=document.createElement("div");n.className="wheel-item",n.textContent=t.toString().padStart(2,"0"),this.itemsEl.appendChild(n)}.bind(this)),this.updateSelection(),this.itemsEl.style.transform="translateY("+this.currentY+"px)"}bindEvents(){let t=!1,e=0;const n=this;function i(n){t=!0,e=n.touches?n.touches[0].clientY:n.clientY,n.preventDefault()}function r(i){if(!t)return;const r=i.touches?i.touches[0].clientY:i.clientY;let s=r-e;n.currentY+=s,n.currentY>n.maxY&&(n.currentY=n.maxY+(n.currentY-n.maxY)/3),n.currentY<n.minY&&(n.currentY=n.minY+(n.currentY-n.minY)/3),n.itemsEl.style.transform="translateY("+n.currentY+"px)",n.velocity=s,e=r,n.updateSelection()}function s(){t=!1,n.startInertia()}this.container.addEventListener("mousedown",i),this.container.addEventListener("mousemove",r),this.container.addEventListener("mouseup",s),this.container.addEventListener("mouseleave",s),this.container.addEventListener("touchstart",i),this.container.addEventListener("touchmove",r),this.container.addEventListener("touchend",s)}startInertia(){if(this.animating)return;this.animating=!0;const t=this;requestAnimationFrame(function e(){if(Math.abs(t.velocity)<.1)return t.snapToItem(),void(t.animating=!1);t.currentY+=t.velocity,t.currentY>t.maxY&&(t.currentY=t.maxY,t.velocity=0),t.currentY<t.minY&&(t.currentY=t.minY,t.velocity=0),t.itemsEl.style.transform="translateY("+t.currentY+"px)",t.velocity*=.95,t.updateSelection(),requestAnimationFrame(e)})}snapToItem(){const t=Math.round(-this.currentY/this.itemHeight);this.currentY=-t*this.itemHeight,this.itemsEl.style.transform="translateY("+this.currentY+"px)",this.updateSelection()}updateSelection(){const t=Math.round(-this.currentY/this.itemHeight);Array.from(this.itemsEl.children).forEach(function(e,n){e.classList.toggle("selected",n===t)})}getSelected(){const t=Math.round(-this.currentY/this.itemHeight);return this.values[t]}setSelected(t){const e=this.values.indexOf(t);e>=0&&(this.currentY=-e*this.itemHeight,this.itemsEl.style.transform="translateY("+this.currentY+"px)",this.updateSelection())}}let horizontalWheel,hoursWheel,minutesWheel;class HorizontalWheelPicker{constructor(t,e){this.container=document.getElementById(t),this.values=e,this.currentX=0,this.velocity=0,this.animating=!1,this.itemWidth=60,this.minX=-(e.length-1)*this.itemWidth,this.maxX=0,this.render(),this.bindEvents()}render(){this.container.innerHTML='<div class="wheel-items"></div>',this.itemsEl=this.container.querySelector(".wheel-items");for(let t=0;t<this.values.length;t++){const e=document.createElement("div");e.className="wheel-item",e.textContent=this.values[t],this.itemsEl.appendChild(e)}this.updateSelection(),this.itemsEl.style.transform="translateX("+this.currentX+"px)"}bindEvents(){let t=!1,e=0;const n=this;function i(n){t=!0,e=n.touches?n.touches[0].clientX:n.clientX,n.preventDefault()}function r(i){if(!t)return;const r=i.touches?i.touches[0].clientX:i.clientX;let s=r-e;n.currentX+=s,n.currentX>n.maxX&&(n.currentX=n.maxX+(n.currentX-n.maxX)/3),n.currentX<n.minX&&(n.currentX=n.minX+(n.currentX-n.minX)/3),n.itemsEl.style.transform="translateX("+n.currentX+"px)",n.velocity=s,e=r,n.updateSelection()}function s(){t=!1,n.startInertia()}this.container.addEventListener("mousedown",i),this.container.addEventListener("mousemove",r),this.container.addEventListener("mouseup",s),this.container.addEventListener("mouseleave",s),this.container.addEventListener("touchstart",i),this.container.addEventListener("touchmove",r),this.container.addEventListener("touchend",s)}startInertia(){if(this.animating)return;this.animating=!0;const t=this;requestAnimationFrame(function e(){if(Math.abs(t.velocity)<.1)return t.snapToItem(),void(t.animating=!1);t.currentX+=t.velocity,t.currentX>t.maxX&&(t.currentX=t.maxX,t.velocity=0),t.currentX<t.minX&&(t.currentX=t.minX,t.velocity=0),t.itemsEl.style.transform="translateX("+t.currentX+"px)",t.velocity*=.95,t.updateSelection(),requestAnimationFrame(e)})}snapToItem(){const t=Math.round(-this.currentX/this.itemWidth);this.currentX=-t*this.itemWidth,this.itemsEl.style.transform="translateX("+this.currentX+"px)",this.updateSelection()}updateSelection(){const t=Math.round(-this.currentX/this.itemWidth);Array.from(this.itemsEl.children).forEach(function(e,n){e.classList.toggle("selected",n===t)})}getSelected(){const t=Math.round(-this.currentX/this.itemWidth);return this.values[t]}setSelected(t){const e=this.values.indexOf(t);e>=0&&(this.currentX=-e*this.itemWidth,this.itemsEl.style.transform="translateX("+this.currentX+"px)",this.updateSelection())}}function openTimePicker(t){const e=new Date;hoursWheel.setSelected(e.getHours()),minutesWheel.setSelected(e.getMinutes()),horizontalWheel&&void 0!==t&&horizontalWheel.setSelected(t),$("#timePickerModal").modal("show")}window.onload=function(){const t=Array.from({length:24},function(t,e){return e}),e=Array.from({length:60},function(t,e){return e});hoursWheel=new WheelPicker("hoursWheel",t),minutesWheel=new WheelPicker("minutesWheel",e);const n=[];for(let t=12;t<=38;t+=.1)n.push(parseFloat(t.toFixed(1)));horizontalWheel=new HorizontalWheelPicker("horizontalWheel",n)},$("#timePickerOkBtn").on("click",function(){let t=hoursWheel.getSelected().toString().padStart(2,"0"),e=minutesWheel.getSelected().toString().padStart(2,"0"),n=horizontalWheel.getSelected().toString().padStart(2,"0");const i=t+":"+e;console.log("Ora selectată:",i,"Extra:",n),alert("Ai ales ora: "+i+" și valoarea extra: "+n),$("#timePickerModal").modal("hide")});